+++
title = "Django with nginx"
date = 2009-12-21T23:14:00Z
updated = 2010-01-13T17:52:25Z
tags = ["Nginx", "Python", "Web", "Django"]
blogimport = true 
[author]
	name = "TerryH"
	uri = "https://www.blogger.com/profile/00198432946574471177"
+++

聽說效能比較好，聽說安全性不錯，聽說記憶體用很少<br /><br />聽別人說不準，還是自己試試才知道<br /><br />所以單純只是試試試看，跑起來如何，自己寫個筆記<br /><br />我的nginx上， server 設定，Django fastcgi 的部份照舊 ，如果跟我一樣是用 unix socket 來連的話，權限要可以讓 nginx 寫入<br /><br /><code ><br />limit_zone   one  $binary_remote_addr  10m;<br />server {<br />        listen   80;<br />        server_name  s.localhost.com h.localhost.com;<br />        #server_name  home.digez.com stock.digez.com;<br /><br />        access_log  /var/log/nginx/access.log;<br />        location /site_media {<br />                alias /home/terry/media/;<br />        }<br />        location /media {<br />                alias /home/terry/django_src/django/contrib/admin/media/;<br />        }<br />        location / {<br />                #fastcgi_pass 127.0.0.1:8080;<br />                fastcgi_pass unix:/home/terry/run/digez.sock;<br />                fastcgi_param REQUEST_METHOD $request_method;<br />                fastcgi_param QUERY_STRING $query_string;<br />                fastcgi_param CONTENT_TYPE $content_type;<br />                fastcgi_param CONTENT_LENGTH $content_length;<br />                fastcgi_param REMOTE_ADDR       $remote_addr;<br />                fastcgi_param SERVER_PORT       $server_port;<br />                fastcgi_param SERVER_PROTOCOL   $server_protocol;<br />                fastcgi_param SERVER_NAME       $server_name;<br />                fastcgi_param PATH_INFO $fastcgi_script_name;<br />                fastcgi_pass_header Authorization;<br />                fastcgi_intercept_errors off;<br />                limit_conn   one  5;<br />        }<br /><br />}<br /></code><br /><br />更新<br />2010-01-05 設定加入， fastcgi_param REMOTE_ADDR       $remote_addr;  Django 需要<br /><br />相關連結<br /><a href="http://www.djangoproject.com/">Django</a><br /><a href="http://nginx.org/">nginx</a><br />參考資料<br /><a href="http://wiki.nginx.org/Main">http://wiki.nginx.org/Main</a><br /><br /><a href="http://stackoverflow.com/questions/605173/how-to-nginx-virtual-servers-fcgi-for-django">http://stackoverflow.com/questions/605173/how-to-nginx-virtual-servers-fcgi-for-django</a><br /><br /><a href="http://david-paste.cn/paste/20/">http://david-paste.cn/paste/20/</a><br /><br /><a href="http://stackoverflow.com/questions/605173/how-to-nginx-virtual-servers-fcgi-for-django">http://stackoverflow.com/questions/605173/how-to-nginx-virtual-servers-fcgi-for-django</a>
