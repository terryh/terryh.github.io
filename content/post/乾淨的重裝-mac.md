+++
title = "乾淨的重裝 Mac"
date = 2014-08-18T18:04:00Z
updated = 2014-08-23T07:40:17Z
tags = ["Mac"]
blogimport = true 
[author]
	name = "TerryH"
	uri = "https://www.blogger.com/profile/00198432946574471177"
+++

用官方的方式，做了 USB 開機碟，在蘋果的 App Store 下載讓強者更強的， Mavericks 後，先不急著點安裝<br /><br /><a href="http://support.apple.com/kb/HT5856">http://support.apple.com/kb/HT5856</a><br /><pre><code class="language-bash"><br />sudo /Applications/Install\ OS\ X\ Mavericks.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume --applicationpath /Applications/Install\ OS\ X\ Mavericks.app<br /></code><br /></pre><br />MyVolume 就是你的 usb 隨身碟的名字<br /><br />然後大概就是用 c9s 大大的調教方式<br /><a href="http://c9s.blogspot.tw/2014/04/mac-os-x-ssd-macbook-air-macbook-pro.html">http://c9s.blogspot.tw/2014/04/mac-os-x-ssd-macbook-air-macbook-pro.html</a><br />Spotlight, timemachine 關，SSD mount noatime (不要最後讀取時間)<br /><br /><pre><code class="language-markup"><br /><br />sudo mdutil -i off -a  # spotlight 全關<br />sudo tmutil disablelocal # timemachine 關<br /><br />sudo -i<br />cat > /Library/LaunchDaemons/com.disk.noatime.plist<br /><br /><br /><br />&lt;plist version=&quot;1.0&quot;&gt;<br />&lt;dict&gt;<br />&lt;key&gt;Label&lt;/key&gt;<br />&lt;string&gt;com.disk.noatime&lt;/string&gt;<br />&lt;key&gt;ProgramArguments&lt;/key&gt;<br />&lt;array&gt;<br />&lt;string&gt;mount&lt;/string&gt;<br />&lt;string&gt;-vuwo&lt;/string&gt;<br />&lt;string&gt;noatime&lt;/string&gt;<br />&lt;string&gt;/&lt;/string&gt;<br />&lt;/array&gt;<br />&lt;key&gt;RunAtLoad&lt;/key&gt;<br />&lt;true&gt;<br />&lt;/true&gt;&lt;/dict&gt;<br />&lt;/plist&gt;<br /><br /><br />sudo pmset -a hibernatemode 0 # 休眠不 snapshot 到硬碟<br /><br /></code><br /></pre><br /><br /><br />另外參考網友 RamDisk 的做法，做 RamDisk，把瀏覽器的 Cache 資料夾，掛在 RamDisk 下面<br /><a href="http://blog.roodo.com/jason1204/archives/25366852.html">http://blog.roodo.com/jason1204/archives/25366852.html</a><br /><br />開啟應用程式-&gt;工具程式-&gt;AppleScript編寫程式<br /><pre><code class="language-bash"><br /><br />do shell script "<br /><br />if ! test -e /Volumes/RamDisk ; then<br /><br />diskutil erasevolume HFS+ RamDisk `hdiutil attach -nomount ram://$((2*1024*1024*2))`<br /><br />mkdir -p /Volumes/RamDisk/Chrome/Cache<br />mkdir -p /Volumes/RamDisk/Firefox/Cache<br />mkdir -p /Volumes/RamDisk/Safari/Cache<br /><br />mkdir -p /Volumes/RamDisk/VMware<br /><br />fi<br /><br />"<br /></code><br /></pre><br />儲存成應用程式後<br /><br />到 “系統偏好設定” -&gt; 使用者與群組 加到自己的登入啟動項目裡<br /><br />Chrome:<br /><pre><code class="language-bash"><br />rm -rf ~/Library/Caches/Google/Chrome/Default<br /><br />ln -s /Volumes/RamDisk/Chrome ~/Library/Caches/Google/Chrome/Default<br /></code><br /></pre><br />Safari:<br /><br />終端機下:<br /><br /><pre><code class="language-bash"><br />rm -rf ~/Library/Caches/com.apple.safaridavclient<br />ln -s /Volumes/RamDisk/Safari/Cache ~/Library/Caches/com.apple.Safari<br /></code><br /></pre><br />FireFox:<br /><br /><br />在網址上Key上: about:config<br />右鍵新增:browser.cache.disk.parent_directory 路徑就是  /Volumes/RamDisk/Firefox
